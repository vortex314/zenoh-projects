message SysCmd {
  optional uint64 set_time = 1;
  optional bool reboot = 2;
}

message SysInfo {
  optional uint64 uptime = 1;
  optional uint64 free_memory = 2;
  optional uint64 total_memory = 3;
}

message WifiInfo {
  optional string ssid = 1;
  optional string bssid = 2;
  optional int32 rssi = 3;
  optional string ip = 4;
}

message MotorInfo {
  optional int32 speed = 1;
  optional int32 direction = 2;
}

message MotorCmd {
  optional int32 speed = 1;
  optional int32 direction = 2;
}

enum MessageType {
  SYS_CMD = 1;
  SYS_INFO = 2;
  WIFI_INFO = 3;
  MOTOR_INFO = 4;
  MOTOR_CMD = 5;
}

message Msg {
  required MessageType type = 1;
  optional SysCmd sys_cmd = 2;
  optional SysInfo sys_info = 3;
  optional WifiInfo wifi_info = 4;
  optional MotorInfo motor_info = 5;
  optional MotorCmd motor_cmd = 6;
}

message LpsInfo {
    optional int32 direction=1;
    optional byte[] data=2;
    optional string msg=3;
}