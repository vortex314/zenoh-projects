syntax = "proto3";


message HoverboardCmd {
  optional uint32 speed = 1;
  optional uint32 turn = 2;
}

message HoverboardMetrics {
  optional uint32 speed = 1;
  optional uint32 battery = 2;
  optional bool is_charging = 3;
}

enum MessageType {
  MESSAGE_TYPE_UNKNOWN = 0;
  PUBLISH = 1;     // Data broadcast
  SUBSCRIBE = 2;   // Subscription request
  REQUEST = 3;     // RPC style request
  REPLY = 4;       // RPC reply
  ANNOUNCE = 5;    // Node/Service announcing itself
  HEARTBEAT = 6;   // Keep-alive message
}

message Envelope {
  optional string src = 1;
  optional string dst = 2;
  MessageType type = 3; // MessageType
  bytes payload = 4; // Serialized message (HoverboardCmd, HoverboardMetrics, etc.)
}